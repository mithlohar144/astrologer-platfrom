/* Chat page styles */
:root{
  --bg:#0b1020;
  --panel:#121936;
  --panel-2:#0f1530;
  --text:#eef1ff;
  --muted:#aab2d6;
  --accent:#6c8bff;
  --accent-2:#7fd1ff;
  --success:#2ecc71;
  --danger:#ff6b6b;
  --shadow:0 8px 24px rgba(0,0,0,.28);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;
  background:linear-gradient(180deg,#0a0f22 0%, #0b112b 100%);
  color:var(--text);
}

.chat-app{display:grid; grid-template-columns:320px 1fr; height:100vh; overflow:hidden}

/* Sidebar */
.sidebar{background:var(--panel); border-right:1px solid rgba(255,255,255,.06); display:flex; flex-direction:column}
.sidebar-header{display:flex; align-items:center; justify-content:space-between; padding:16px 14px; border-bottom:1px solid rgba(255,255,255,.06)}
.sidebar-header h2{font-size:18px; margin:0}
.new-chat{background:var(--accent); color:#fff; border:none; border-radius:8px; padding:8px 10px; cursor:pointer}
.search{display:flex; align-items:center; gap:8px; margin:12px; padding:10px 12px; background:var(--panel-2); border:1px solid rgba(255,255,255,.06); border-radius:10px}
.search input{flex:1; background:transparent; border:none; outline:none; color:var(--text)}
.thread-list{list-style:none; padding:0; margin:8px 0; overflow:auto}
.thread{display:flex; gap:12px; align-items:center; padding:12px; cursor:pointer; border-left:3px solid transparent}
.thread:hover{background:rgba(255,255,255,.04)}
.thread.active{background:rgba(108,139,255,.12); border-left-color:var(--accent)}
.thread .avatar img{width:36px; height:36px; border-radius:50%; object-fit:cover}
.thread .meta{flex:1; min-width:0}
.thread .title{font-weight:600; white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
.thread .preview{font-size:12px; color:var(--muted); white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
.thread .time{font-size:12px; color:var(--muted)}

/* Main chat */
.chat{display:flex; flex-direction:column; background:radial-gradient(80% 100% at 0% 0%, rgba(124, 144, 255, 0.08) 0%, rgba(3, 6, 23, 0) 60%), var(--bg)}
.chat-header{display:flex; align-items:center; justify-content:space-between; padding:14px 18px; border-bottom:1px solid rgba(255,255,255,.06); backdrop-filter: blur(6px)}
.agent{display:flex; align-items:center; gap:12px}
.agent img{width:44px; height:44px; border-radius:50%; object-fit:cover; border:2px solid rgba(255,255,255,.1)}
.presence{display:flex; align-items:center; gap:6px; color:var(--muted); font-size:12px}
.dot{display:inline-block; width:8px; height:8px; border-radius:999px; background:var(--muted)}
.dot.online{background:var(--success)}
.header-actions{display:flex; gap:10px}
.btn{border:none; border-radius:10px; padding:10px 14px; cursor:pointer; font-weight:600}
.btn.primary{background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#0a0f22; box-shadow:var(--shadow)}
.btn.ghost{background:transparent; color:var(--text); border:1px solid rgba(255,255,255,.18)}
.icon-btn{background:transparent; border:none; color:var(--text); font-size:18px; cursor:pointer}
.subtle{display:flex; align-items:center; gap:6px; color:var(--muted); font-size:12px; margin-top:2px}
.subtle .fa-certificate{color:var(--accent-2)}
.info-banner{margin:10px 16px 0; padding:10px 12px; border-radius:10px; background:rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.08); color:var(--muted); font-size:12px; display:flex; align-items:center; gap:8px}
.info-banner .fa-lock{color:var(--accent)}
.messages{flex:1; overflow:auto; padding:18px; display:flex; flex-direction:column; gap:12px}
.message{max-width:70%; display:flex; flex-direction:column}
.message.in{align-self:flex-start}
.message.out{align-self:flex-end}
.bubble{padding:12px 14px; border-radius:14px; line-height:1.45; box-shadow:var(--shadow); backdrop-filter: blur(4px)}
.message.in .bubble{background:rgba(255,255,255,.07); border:1px solid rgba(255,255,255,.08)}
.message.out .bubble{background:linear-gradient(180deg, rgba(107, 133, 255, 0.25) 0%, rgba(37, 48, 112, 0.35) 100%); border:1px solid rgba(108,139,255,.4)}
.meta{margin-top:6px; font-size:11px; color:var(--muted)}

.composer{display:flex; align-items:center; gap:10px; padding:12px 14px; border-top:1px solid rgba(255,255,255,.06); background:rgba(10,15,34,.6); backdrop-filter: blur(6px)}
.composer textarea{flex:1; resize:none; max-height:120px; border:none; outline:none; background:var(--panel-2); color:var(--text); padding:12px; border-radius:10px; border:1px solid rgba(255,255,255,.08)}
.composer .composer-actions{display:flex; align-items:center; gap:8px}

.typing{position:absolute; left:360px; right:20px; bottom:78px; display:flex; align-items:center; gap:8px; color:var(--muted)}
.typing .dot{width:6px; height:6px; animation: blink 1.2s infinite ease-in-out}
.typing .dot:nth-child(2){animation-delay:.15s}
.typing .dot:nth-child(3){animation-delay:.3s}
@keyframes blink{0%,80%,100%{opacity:.2} 40%{opacity:1}}

.toast{position:fixed; left:50%; transform:translateX(-50%) translateY(16px); bottom:-40px; background:rgba(11,16,32,.95); color:#fff; padding:10px 14px; border-radius:10px; box-shadow:var(--shadow); transition:all .2s ease}
.toast.show{bottom:20px}

/* Responsive */
@media (max-width: 980px){
  .chat-app{grid-template-columns:1fr}
  .sidebar{display:none}
  .typing{left:20px}
  .message{max-width:86%}
}
